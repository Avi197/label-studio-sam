modified to work with sam
